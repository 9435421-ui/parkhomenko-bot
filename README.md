# üè† –ë–æ—Ç ¬´–¢–ï–†–ò–û–ù¬ª
–ò–ò-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –ê–Ω—Ç–æ–Ω - –ø–æ–º–æ—â–Ω–∏–∫ —ç–∫—Å–ø–µ—Ä—Ç–∞ –ü–∞—Ä—Ö–æ–º–µ–Ω–∫–æ –Æ–ª–∏–∏ –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–Ω—ã –ø–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—é –ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–æ–∫.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

Telegram-–±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–≤–∏—á–Ω—ã—Ö –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π –ø–æ –ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞–º –∫–≤–∞—Ä—Ç–∏—Ä –∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–π –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º —Å—Ç–µ–∫–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π:

- **Aiogram 3.x** ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram Bot API
- **YandexGPT / Router AI** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–∞; –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ **Yandex AI Agent API** (–ê–≥–µ–Ω—Ç-–®–ø–∏–æ–Ω, –ê–≥–µ–Ω—Ç-–ê–Ω—Ç–æ–Ω) –¥–ª—è –ª–∏–¥–æ–≤ –∏ —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- **RAG-—Å–∏—Å—Ç–µ–º–∞** ‚Äî –ø–æ–∏—Å–∫ –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π (80+ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤), –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–≤–∏–∑–æ–º (–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ)
- **SQLite + aiosqlite** ‚Äî –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –ª–∏–¥—ã, spy_leads, –∑–∞—è–≤–∫–∏ –∫–≤–∏–∑–∞)

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

1. **–û–Ω–±–æ—Ä–¥–∏–Ω–≥ —Å —Å–æ–≥–ª–∞—Å–∏—è–º–∏** ‚Äî –∑–∞–ø—Ä–æ—Å —Å–æ–≥–ª–∞—Å–∏—è –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞
2. **–ö–≤–∏–∑ (–∑–∞—è–≤–∫–∞)** ‚Äî —Å–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–≥–æ—Ä–æ–¥, —Ç–∏–ø –æ–±—ä–µ–∫—Ç–∞, —ç—Ç–∞–∂–Ω–æ—Å—Ç—å, –ø–ª–æ—â–∞–¥—å, —Å—Ç–∞—Ç—É—Å, –æ–ø–∏—Å–∞–Ω–∏–µ, –ø–ª–∞–Ω); –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ ‚Äî –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç –ê–≥–µ–Ω—Ç–∞-–ê–Ω—Ç–æ–Ω–∞ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —ç–∫—Å–ø–µ—Ä—Ç—É
3. **–î–∏–∞–ª–æ–≥–æ–≤—ã–π —Ä–µ–∂–∏–º** ‚Äî –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ —Å —É—á—ë—Ç–æ–º –∏—Å—Ç–æ—Ä–∏–∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ (RAG, –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π)
4. **–£–º–Ω—ã–π –û—Ö–æ—Ç–Ω–∏–∫ (TERION v2.0)** ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∏ –≥–æ—Ä—è—á–∏—Ö –ª–∏–¥–æ–≤ (hotness ‚â• 3) –≤ —Ä–∞–±–æ—á—É—é –≥—Ä—É–ø–ø—É —Å –∫–Ω–æ–ø–∫–∞–º–∏ ¬´–û—Ç–≤–µ—Ç–∏—Ç—å —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ¬ª (–ê–≥–µ–Ω—Ç-–ê–Ω—Ç–æ–Ω) –∏ ¬´–í–∑—è—Ç—å –≤ —Ä–∞–±–æ—Ç—É¬ª (–∫–æ–Ω—Ç–∞–∫—Ç –Æ–ª–∏–∏)
5. **–ò–Ω–≤–µ—Å—Ç-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä** ‚Äî –æ—Ü–µ–Ω–∫–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã –ø–æ–¥ –ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫—É
6. **–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π** ‚Äî 80+ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ –Ω–æ—Ä–º–∞–º, –∑–∞–∫–æ–Ω–∞–º, –ø—Ä–æ—Ü–µ–¥—É—Ä–∞–º; Yandex AI Agents (–®–ø–∏–æ–Ω, –ê–Ω—Ç–æ–Ω) –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ `YANDEX_AI_AGENTS_ENDPOINT`

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
parkhomenko-bot/
‚îú‚îÄ‚îÄ main.py               # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: –¥–≤–∞ –±–æ—Ç–∞ (–ê–ù–¢–û–ù + –∫–æ–Ω—Ç–µ–Ω—Ç), scheduler
‚îú‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ .env.example         # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ BRIEF_–ø—Ä–æ–¥—É–∫—Ç_–∏_—Ä–∞–±–æ—Ç—ã.md  # –ë—Ä–∏—Ñ: –ø—Ä–æ–¥—É–∫—Ç, —á—Ç–æ —Å–¥–µ–ª–∞–Ω–æ, –ø–ª–∞–Ω—ã
‚îú‚îÄ‚îÄ handlers/             # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ start.py         # –û–Ω–±–æ—Ä–¥–∏–Ω–≥, –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
‚îÇ   ‚îú‚îÄ‚îÄ quiz.py          # –ö–≤–∏–∑ (–∑–∞—è–≤–∫–∞ + –∑–∞–∫–ª—é—á–µ–Ω–∏–µ –ê–Ω—Ç–æ–Ω–∞, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Æ–ª–∏–∏)
‚îÇ   ‚îú‚îÄ‚îÄ dialog.py        # –î–∏–∞–ª–æ–≥ —Å RAG
‚îÇ   ‚îú‚îÄ‚îÄ admin.py         # –ê–¥–º–∏–Ω–∫–∞, –∫–Ω–æ–ø–∫–∏ –∫–∞—Ä—Ç–æ—á–µ–∫ –ª–∏–¥–æ–≤ (–û—Ç–≤–µ—Ç–∏—Ç—å —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ / –í–∑—è—Ç—å –≤ —Ä–∞–±–æ—Ç—É)
‚îÇ   ‚îú‚îÄ‚îÄ content.py      # –ö–æ–Ω—Ç–µ–Ω—Ç-–º–µ–Ω—é, –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ –∫–∞–Ω–∞–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ invest.py        # –ò–Ω–≤–µ—Å—Ç-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ yandex_gpt.py    # YandexGPT
‚îÇ   ‚îú‚îÄ‚îÄ yandex_ai_agents.py  # –ê–≥–µ–Ω—Ç-–®–ø–∏–æ–Ω, –ê–≥–µ–Ω—Ç-–ê–Ω—Ç–æ–Ω (Yandex AI Agent API)
‚îÇ   ‚îú‚îÄ‚îÄ knowledge_base.py    # RAG, –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ router_ai.py     # Router AI (fallback –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤)
‚îú‚îÄ‚îÄ services/lead_hunter/ # –ü–∞—Ä—Å–∏–Ω–≥ TG/VK, –∫–∞—Ä—Ç–æ—á–∫–∏ –ª–∏–¥–æ–≤ v2 (hotness ‚â• 3)
‚îú‚îÄ‚îÄ hunter_standalone/   # –ê–Ω–∞–ª–∏–∑ –ª–∏–¥–æ–≤ (Spy), –ë–î –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ª–∏–¥–æ–≤
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îú‚îÄ‚îÄ db.py            # SQLite + aiosqlite (–ª–∏–¥—ã, spy_leads, –∑–∞—è–≤–∫–∏)
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ knowledge_base/      # –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π (80+ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)
    ‚îú‚îÄ‚îÄ 01_–§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–µ_–∑–∞–∫–æ–Ω—ã/
    ‚îú‚îÄ‚îÄ 02_–ö–æ–¥–µ–∫—Å—ã_–∏_–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å/
    ‚îú‚îÄ‚îÄ 03_–°–≤–æ–¥—ã_–ø—Ä–∞–≤–∏–ª_–∏_–°–ü/
    ‚îú‚îÄ‚îÄ 04_–ú–æ—Å–∫–≤–∞/
    ‚îú‚îÄ‚îÄ 05_–ú–æ—Å–∫–æ–≤—Å–∫–∞—è_–æ–±–ª–∞—Å—Ç—å/
    ‚îú‚îÄ‚îÄ 06_–ü—Ä–æ—Ü–µ–¥—É—Ä—ã_–∏_–¥–æ–∫—É–º–µ–Ω—Ç—ã/
    ‚îú‚îÄ‚îÄ 07_–æ–±—ä–µ–∫—Ç—ã_–∫—É–ª—å—Ç—É—Ä–Ω–æ–≥–æ_–Ω–∞—Å–ª–µ–¥–∏—è_–û–ö–ù/
    ‚îî‚îÄ‚îÄ 09_–ò–ò_–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç/
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:

```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`:

```env
# Telegram Bot Configuration
TELEGRAM_TOKEN=your_bot_token_from_@BotFather

# Yandex Cloud Configuration
YANDEX_API_KEY=your_yandex_api_key
FOLDER_ID=your_yandex_folder_id

# Database Configuration
DATABASE_PATH=database/bot.db

# Leads Group Configuration
LEADS_GROUP_CHAT_ID=-1003370698977
THREAD_ID_KVARTIRY=0
THREAD_ID_KOMMERCIA=0
THREAD_ID_DOMA=0

# Admin Configuration
ADMIN_ID=your_admin_user_id

# Channel Configuration
CHANNEL_ID=@your_channel_id
```

### 3. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
python main.py
```

## üîë –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –∏ –∫–ª—é—á–µ–π

### Telegram Bot Token

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot` –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `TELEGRAM_TOKEN`

### Yandex Cloud API Key

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –≤ [Yandex Cloud](https://cloud.yandex.ru/)
2. –°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ (folder)
3. –ü–æ–ª—É—á–∏—Ç–µ API-–∫–ª—é—á –≤ —Ä–∞–∑–¥–µ–ª–µ "–°–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã"
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `YANDEX_API_KEY` –∏ `FOLDER_ID`

### Admin ID

–í–∞—à Telegram User ID –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å —É [@userinfobot](https://t.me/userinfobot)

## üìä –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π

–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç **83 –¥–æ–∫—É–º–µ–Ω—Ç–∞** –ø–æ —Ç–µ–º–∞–º:

- –§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–µ –∑–∞–∫–æ–Ω—ã (–ñ–ö –†–§, –ö–æ–ê–ü, —Ç–µ—Ö—Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã)
- –°–≤–æ–¥—ã –ø—Ä–∞–≤–∏–ª –∏ –°–ü (–ø–æ–∂–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –≤–µ–Ω—Ç–∏–ª—è—Ü–∏—è, –ú–ì–ù)
- –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–æ—Ä–º—ã (–ú–æ—Å–∫–≤–∞, –ú–û, –°–ü–±)
- –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å (15 —Ç–∏–ø–æ–≤ –±–∏–∑–Ω–µ—Å–∞)
- –¢–°–ñ –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
- –û–±—ä–µ–∫—Ç—ã –∫—É–ª—å—Ç—É—Ä–Ω–æ–≥–æ –Ω–∞—Å–ª–µ–¥–∏—è (–û–ö–ù)
- –®–∞–±–ª–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –°—Ü–µ–Ω–∞—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤ –∏ FAQ

## ü§ñ –õ–æ–≥–∏–∫–∞ –ò–ò-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–∞ –ê–Ω—Ç–æ–Ω–∞

**–°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç:**

```
–¢—ã ‚Äî –ê–Ω—Ç–æ–Ω, –ò–ò-–ø–æ–º–æ—â–Ω–∏–∫ —ç–∫—Å–ø–µ—Ä—Ç–∞ –ü–∞—Ä—Ö–æ–º–µ–Ω–∫–æ –Æ–ª–∏–∏ –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–Ω—ã
–ø–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—é –ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–æ–∫ (–ú–æ—Å–∫–≤–∞/–ú–û, 10+ –ª–µ—Ç –æ–ø—ã—Ç–∞).

–ñ–ï–õ–ï–ó–ù–´–ï –ü–†–ê–í–ò–õ–ê:
1. –ß–∏—Ç–∞–π –∏—Å—Ç–æ—Ä–∏—é ‚Äî –ù–ï –∑–∞–¥–∞–≤–∞–π –≤–æ–ø—Ä–æ—Å—ã, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –∫–ª–∏–µ–Ω—Ç –£–ñ–ï –æ—Ç–≤–µ—Ç–∏–ª
2. –ù–ï –ø–æ–≤—Ç–æ—Ä—è–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä—É—é –£–ñ–ï –æ–∑–≤—É—á–∏–ª
3. –ö–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç ‚Äî –¢–û–õ–¨–ö–û –Ω–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
4. –õ–∏–º–∏—Ç: 250-350 —Å–∏–º–≤–æ–ª–æ–≤ (2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è max)
5. –£–ü–û–ú–ò–ù–ê–ô –ö–û–ú–ü–ê–ù–ò–Æ: –≤ –∫–∞–∂–¥–æ–º 2-3 –æ—Ç–≤–µ—Ç–µ
6. –ù–ï –ü–†–ï–î–ü–û–õ–ê–ì–ê–ô –ì–û–†–û–î: –ù–ï –≥–æ–≤–æ—Ä–∏ "–≤ –ú–æ—Å–∫–≤–µ" –ø–æ–∫–∞ –∫–ª–∏–µ–Ω—Ç –Ω–µ –Ω–∞–∑–≤–∞–ª –≥–æ—Ä–æ–¥
7. –°–¢–û–ò–ú–û–°–¢–¨: –ù–ò–ö–û–ì–î–ê –Ω–µ –Ω–∞–∑—ã–≤–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—É–º–º—ã
8. –í–û–ü–†–û–°–´ –ù–ê –ß–ï–õ–û–í–ï–ß–ï–°–ö–û–ú –Ø–ó–´–ö–ï
```

## üìù TODO: –û–∂–∏–¥–∞–Ω–∏–µ –∫–æ–¥–∞ –æ—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫–∞—Ä–∫–∞—Å –Ω–∞ Aiogram 3.x

**–û–∂–∏–¥–∞–µ—Ç—Å—è –æ—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è:**

1. –§–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–¥ `bot_unified.py` –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
2. –¢–µ–∫—Å—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π –∫–≤–∏–∑–∞ (8 —à–∞–≥–æ–≤)
3. –§–æ—Ä–º—É–ª—ã —Ä–∞—Å—á—ë—Ç–∞ –∏–Ω–≤–µ—Å—Ç-–æ—Ü–µ–Ω–∫–∏

**–ó–∞–¥–∞—á–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**

- –ò–∑–≤–ª–µ—á—å —Ç–µ–∫—Å—Ç—ã –∏ –ª–æ–≥–∏–∫—É –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞
- –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ Aiogram 3.x
- –í–Ω–µ–¥—Ä–∏—Ç—å –≤ handlers/quiz.py, handlers/dialog.py, handlers/invest.py

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ handler

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `handlers/new_handler.py`
2. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ router:

```python
from aiogram import Router
router = Router()

@router.message(...)
async def handler_name(message: Message):
    # –í–∞—à –∫–æ–¥
    pass
```

3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –≤ `handlers/__init__.py`:

```python
from .new_handler import router as new_router
__all__ = [..., 'new_router']
```

4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤ `main.py`:

```python
from handlers import ..., new_router
dp.include_router(new_router)
```

### –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

```python
from database import db

# –ü–æ–ª—É—á–∏—Ç—å/—Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
user = await db.get_or_create_user(user_id, username, first_name)

# –ü–æ–ª—É—á–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
state = await db.get_user_state(user_id)

# –û–±–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ
await db.update_user_state(user_id, mode="quiz", quiz_step=3)

# –î–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏—é
await db.add_dialog_message(user_id, role="user", message="—Ç–µ–∫—Å—Ç")

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–∏–¥
lead_id = await db.save_lead(user_id, name, phone, city="–ú–æ—Å–∫–≤–∞")
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ YandexGPT

```python
from utils import yandex_gpt, kb

# –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
context = await kb.get_context("–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∫—É—Ö–Ω–∏ –∏ –∫–æ–º–Ω–∞—Ç—ã")

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
response = await yandex_gpt.generate_with_context(
    user_query="–º–æ–∂–Ω–æ –ª–∏ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –∫—É—Ö–Ω—é —Å –∫–æ–º–Ω–∞—Ç–æ–π?",
    rag_context=context,
    dialog_history=history,
    user_name="–ò–≤–∞–Ω"
)
```

## üìà –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª `bot.log` –∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å.

–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
- `INFO` - –æ–±—ã—á–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
- `WARNING` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- `ERROR` - –æ—à–∏–±–∫–∏

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –°–µ–∫—Ä–µ—Ç—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ `.env` (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è –≤ Git)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î (—Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

### –§–∞–π–ª—ã —Å–µ—Å—Å–∏–π Telethon (`*.session`)

–§–∞–π–ª—ã —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.session` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `anton_parser.session`) **–Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** ‚Äî –æ–Ω–∏ –≤ `.gitignore`. –ü—Ä–∏—á–∏–Ω—ã:

- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –≤ –Ω–∏—Ö —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Telegram (—Å–µ—Å—Å–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è). –ü–æ–ø–∞–¥–∞–Ω–∏–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –º–æ–∂–µ—Ç —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç.
- **–õ–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å:** —Å–µ—Å—Å–∏—è –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É; –Ω–∞ –¥—Ä—É–≥–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –∏–ª–∏ –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è —Ñ–∞–π–ª –±–µ—Å–ø–æ–ª–µ–∑–µ–Ω –∏–ª–∏ –º–µ—à–∞–µ—Ç.

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –ø–∞—Ä—Å–µ—Ä–∞ —á–∞—Ç–æ–≤ (chat_parser, –≥–µ–æ—à–ø–∏–æ–Ω –∏ —Ç.–ø.):**

1. –í `.env` –∑–∞–¥–∞–π—Ç–µ `API_ID`, `API_HASH` –∏ `PHONE` (–Ω–æ–º–µ—Ä –≤ —Ñ–æ—Ä–º–∞—Ç–µ +79xxxxxxxxx).
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –æ–¥–∏–Ω —Ä–∞–∑ **–Ω–∞ —Ç–æ–π –º–∞—à–∏–Ω–µ, –≥–¥–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–∞—Ä—Å–µ—Ä:**

   ```bash
   python session_manager.py
   ```

   –ò–ª–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Telethon (–Ω–∞–ø—Ä–∏–º–µ—Ä, `chat_parser.py`), —Å–µ—Å—Å–∏—è —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚Äî –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ Telegram –∏ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –ø–∞—Ä–æ–ª—å 2FA.

3. –§–∞–π–ª `anton_parser.session` –ø–æ—è–≤–∏—Ç—Å—è **—Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ**. –ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –µ–≥–æ –≤ Git –∏ –Ω–µ –∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–∞ –¥—Ä—É–≥–∏–µ –º–∞—à–∏–Ω—ã ‚Äî —Ç–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ—é —Å–µ—Å—Å–∏—é —Ç–µ–º –∂–µ —Å–ø–æ—Å–æ–±–æ–º.

## üë• –ö–æ–º–∞–Ω–¥–∞

- **–Æ–ª–∏—è –ü–∞—Ä—Ö–æ–º–µ–Ω–∫–æ** - —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞–º, –≤–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–æ–¥—É–∫—Ç–∞
- **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫** - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ Aiogram 3.x

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ß–∞—Å—Ç–Ω—ã–π –ø—Ä–æ–µ–∫—Ç. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.

---

**–í–µ—Ä—Å–∏—è:** 2.0 (Aiogram 3.x, –£–º–Ω—ã–π –û—Ö–æ—Ç–Ω–∏–∫ TERION v2.0)  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 15.02.2026
