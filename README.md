# PARKHOMENKO_BOT

Telegram бот для консультаций по перепланировкам квартир в Москве.

## Описание проекта

Бот предоставляет экспертные консультации по вопросам перепланировки жилых и коммерческих помещений в соответствии с законодательством РФ и Москвы.

## Основные компоненты

### Content Agent (Контент-агент)

Автоматическая генерация и публикация контента в Telegram-канале.

#### Файлы контент-агента:
- `content_agent.py` - Класс ContentAgent для генерации постов с использованием YandexGPT
- `auto_poster.py` - Модуль для автоматической публикации контента в канал
- `database.py` - Работа с базой данных для хранения контент-плана

### Основной бот
- `bot_unified.py` - Основной файл бота с командами и обработчиками

## Команды бота

### Администраторские команды:
- `/generate_content` - Генерация контент-плана на неделю (только для ADMIN_ID)
- `/show_plan` - Просмотр контент-плана с возможностью утверждения/удаления постов

### Команды для пользователей:
- `/start` - Запуск бота и показ главного меню

## Технологии

- Python 3.8+
- Telebot (pyTelegramBotAPI)
- YandexGPT API
- SQLite/PostgreSQL
- AsyncIO

## Установка и запуск

1. Клонировать репозиторий
2. Установить зависимости: `pip install -r requirements.txt`
3. Настроить переменные окружения в `.env`
4. Запустить бота: `python bot_unified.py`

## Переменные окружения

- `BOT_TOKEN` - Токен Telegram бота
- `YANDEX_FOLDER_ID` - ID папки Yandex Cloud
- `YANDEX_API_KEY` - API ключ Yandex Cloud
- `ADMIN_ID` - ID администратора бота
- `CONTENT_CHANNEL_ID` - ID канала для публикации контента
- `DATABASE_URL` - URL базы данных

## Контент-агент

Автоматически генерирует посты разных типов:
- Экспертные посты по нормам перепланировки
- Живые посты с привязкой к сезону
- Новости законодательства

Публикует посты в канал каждые 10 минут.
