# üïµÔ∏è –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º—ã –ø–æ–∏—Å–∫–∞ –ª–∏–¥–æ–≤ ("–®–ø–∏–æ–Ω")

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 17.02.2026  
**–í–µ—Ä—Å–∏—è:** –£–º–Ω—ã–π –û—Ö–æ—Ç–Ω–∏–∫ v2.0 + Scout Parser v3.0

---

## üìÅ 1. –§–ê–ô–õ–´ –ü–†–û–ï–ö–¢–ê

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏ –ø–æ–∏—Å–∫–∞ –ª–∏–¥–æ–≤

| –§–∞–π–ª | –†–æ–ª—å | –ö–ª—é—á–µ–≤—ã–µ –∫–ª–∞—Å—Å—ã/—Ñ—É–Ω–∫—Ü–∏–∏ |
|------|------|-------------------------|
| `services/lead_hunter/hunter.py` | –ì–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å –æ—Ö–æ—Ç–Ω–∏–∫–∞ –∑–∞ –ª–∏–¥–∞–º–∏ | `LeadHunter`, `hunt()`, `_send_lead_card_to_group()`, `send_regular_leads_summary()`, `send_hot_leads_immediate()` |
| `services/scout_parser.py` | –ü–∞—Ä—Å–µ—Ä Telegram –∏ VK | `ScoutParser`, `parse_telegram()`, `parse_vk()`, `detect_lead()`, `scan_all()` |
| `services/lead_hunter/analyzer.py` | AI-–∞–Ω–∞–ª–∏–∑ –ø–æ—Å—Ç–æ–≤ | `LeadAnalyzer`, `analyze_post()`, `_detect_priority_zhk_hot()` |
| `services/lead_hunter/discovery.py` | –ê–≤—Ç–æ–ø–æ–∏—Å–∫ –Ω–æ–≤—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ | `Discovery`, `find_new_sources()`, `global_telegram_search()`, `scout_vk_resources()` |
| `services/lead_hunter/outreach.py` | –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç–∞–º | `Outreach`, `send_offer()`, `is_work_hours()` |
| `hunter_standalone/hunter.py` | –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ª–∏–¥–æ–≤ (AI –ñ—é–ª—è) | `LeadHunter`, `hunt()` |
| `hunter_standalone/database.py` | –õ–æ–∫–∞–ª—å–Ω–∞—è –ë–î –¥–ª—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ª–∏–¥–æ–≤ | `HunterDatabase`, `save_lead()`, `get_latest_hot_leads()` |
| `database/db.py` | –û—Å–Ω–æ–≤–Ω–∞—è –ë–î (SQLite) | `add_spy_lead()`, `get_regular_leads_for_summary()`, `get_hot_leads_for_immediate_send()`, `mark_lead_sent_to_hot_leads()` |
| `main.py` | –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á | `hunter.hunt()` (–∫–∞–∂–¥—ã–µ 30 –º–∏–Ω), `send_regular_leads_summary_job()` (10:00, 14:00, 19:00 –ú–°–ö), `check_and_send_hot_leads_job()` (–∫–∞–∂–¥—ã–µ 15 –º–∏–Ω) |
| `config.py` | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | `SCOUT_ENABLED`, `SCOUT_TG_CHANNELS`, `SCOUT_VK_GROUPS`, `SCOUT_TG_KEYWORDS`, `THREAD_ID_HOT_LEADS`, `THREAD_ID_LOGS` |
| `handlers/admin.py` | –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–ø–∏–æ–Ω–æ–º | `spy_panel_open()`, `spy_panel_stats()`, `cmd_hunt()`, `cmd_spy_status()`, `cmd_spy_report()` |
| `run_hunter.py` | –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –æ—Ö–æ—Ç–Ω–∏–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ | `main()` ‚Äî –∑–∞–ø—É—Å–∫ –æ–¥–Ω–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ `hunter.hunt()` |

### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏

| –§–∞–π–ª | –†–æ–ª—å |
|------|------|
| `services/competitor_spy.py` | –ì–µ–æ-—à–ø–∏–æ–Ω (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–∞—Ç–æ–≤ –ñ–ö) |
| `services/geospy.py` | –ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ª–∏–¥–æ–≤ |
| `utils/yandex_ai_agents.py` | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Yandex AI Agent (–ê–≥–µ–Ω—Ç-–®–ø–∏–æ–Ω) |
| `.env.example` | –ü—Ä–∏–º–µ—Ä—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è |

---

## üéØ 2. –û–ü–†–ï–î–ï–õ–ï–ù–ò–ï –õ–ò–î–ê

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ª–∏–¥–∞

**–ú–µ—Ç–æ–¥:** `ScoutParser.detect_lead()` (Intent v3.0)

#### HOT_TRIGGERS (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—Ä–∞–∑—ã ‚Äî –ª–∏–¥ —Å—Ä–∞–∑—É):
- `"–ø—Ä–µ–¥–ø–∏—Å–∞–Ω–∏–µ –ú–ñ–ò"`, `"—É–∑–∞–∫–æ–Ω–∏—Ç—å"`, `"–ú–ñ–ò"`, `"–ø—Ä–µ–¥–ø–∏—Å–∞–Ω–∏–µ"`, `"–∏–Ω—Å–ø–µ–∫—Ç–æ—Ä –ú–ñ–ò"`, `"–ø—Ä–∏—à–ª–∞ –ú–ñ–ò"`, `"—à—Ç—Ä–∞—Ñ –ë–¢–ò"`, `"—à—Ç—Ä–∞—Ñ –∑–∞ –ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫—É"`, `"–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Å–¥–µ–ª–∫–∏"`, `"—Å—É–¥ –ø–æ –ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–µ"`

#### –°–º—è–≥—á–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (–ª–∏–¥ = [–¢–µ—Ö. —Ç–µ—Ä–º–∏–Ω] + [–í–æ–ø—Ä–æ—Å –ò–õ–ò –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –º–∞—Ä–∫–µ—Ä]):

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã:**
- `"–ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤"`, `"—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏"`, `"—É–∑–∞–∫–æ–Ω–∏"`, `"–ú–ñ–ò"`, `"–∞–∫—Ç —Å–∫—Ä—ã—Ç—ã—Ö —Ä–∞–±–æ—Ç"`, `"–ø—Ä–æ–µ–∫—Ç –°–†–û"`, `"–º–æ–∫—Ä–∞—è –∑–æ–Ω–∞"`, `"—Å–Ω–æ—Å —Å—Ç–µ–Ω"`, `"–æ–±—ä–µ–¥–∏–Ω–µ–Ω"`, `"–Ω–µ–∂–∏–ª–æ–µ –ø–æ–º–µ—â–µ–Ω–∏–µ"`, –∏ –¥—Ä.

**–ü–∞—Ç—Ç–µ—Ä–Ω—ã –≤–æ–ø—Ä–æ—Å–∞:**
- `"–∫—Ç–æ —Å–æ–≥–ª–∞—Å–æ–≤—ã–≤–∞–ª"`, `"–∫–∞–∫ —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å"`, `"–ø–æ–¥—Å–∫–∞–∂–∏—Ç–µ"`, `"–ø–æ—Å–æ–≤–µ—Ç—É–π—Ç–µ"`, `"–º–æ–∂–Ω–æ –ª–∏"`, `"–≥–¥–µ"`, `"?"` (–≤ –∫–æ–Ω—Ü–µ)

**–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –º–∞—Ä–∫–µ—Ä—ã:**
- `"—Å—Ç–æ–∏–º–æ—Å—Ç—å"`, `"—Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç"`, `"—Å—Ä–æ–∫–∏"`, `"–∫—Ç–æ –¥–µ–ª–∞–ª"`, `"–∫ –∫–æ–º—É –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è"`, `"–Ω—É–∂–µ–Ω –ø—Ä–æ–µ–∫—Ç"`, `"–∑–∞–∫–∞–∑–∞—Ç—å –ø—Ä–æ–µ–∫—Ç"`

**–û—Ç—Å–µ—á–µ–Ω–∏–µ –º—É—Å–æ—Ä–∞:**
- `"–ø—Ä–æ–¥–∞–º"`, `"–∞—Ä–µ–Ω–¥–∞"`, `"—É—Å–ª—É–≥–∏ —Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞"`, `"—Ä–µ–º–æ–Ω—Ç –ø–æ–¥ –∫–ª—é—á"`, `"–≤—ã–∑–æ–≤ —Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫–∞"`, `"–º–∞—Å—Ç–µ—Ä –Ω–∞ —á–∞—Å"`

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ú–∏–Ω–∏–º—É–º 5 —Å–ª–æ–≤ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏
- –ù–µ —Ç–æ–ª—å–∫–æ —Å—Å—ã–ª–∫–∏ –±–µ–∑ —Ç–µ–∫—Å—Ç–∞

### –ü–æ–ª—è –ª–∏–¥–∞ –≤ –ë–î (`spy_leads`)

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | INTEGER PRIMARY KEY | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –ª–∏–¥–∞ |
| `source_type` | TEXT | `"telegram"` –∏–ª–∏ `"vk"` |
| `source_name` | TEXT | –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞/–≥—Ä—É–ø–ø—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ñ–ö –ó–∏–ª–∞—Ä—Ç") |
| `author_id` | TEXT | ID –∞–≤—Ç–æ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è (Telegram user_id –∏–ª–∏ VK user_id) |
| `username` | TEXT | Username –∞–≤—Ç–æ—Ä–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å) |
| `profile_url` | TEXT | –°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å (`tg://user?id=...` –∏–ª–∏ `https://vk.com/id...`) |
| `text` | TEXT | –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è/–ø–æ—Å—Ç–∞ (–¥–æ 2000 —Å–∏–º–≤–æ–ª–æ–≤) |
| `url` | TEXT | –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ—Å—Ç/–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| `pain_stage` | TEXT | –°—Ç–∞–¥–∏—è –±–æ–ª–∏: `"ST-1"` (–ò–Ω—Ç–µ—Ä–µ—Å), `"ST-2"` (–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ), `"ST-3"` (–ê–∫—Ç–∏–≤), `"ST-4"` (–ö—Ä–∏—Ç–∏—á–Ω–æ) |
| `priority_score` | INTEGER | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ª–∏–¥–∞ (1-10) |
| `sent_to_hot_leads` | INTEGER | –§–ª–∞–≥ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ —Ç–æ–ø–∏–∫ "–ì–æ—Ä—è—á–∏–µ –ª–∏–¥—ã" (0/1) |
| `contacted_at` | TIMESTAMP | –í—Ä–µ–º—è –ø–µ—Ä–≤–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞ (–¥–ª—è –º–æ–¥—É–ª—è "–ü—Ä–æ–¥–∞–≤–µ—Ü") |
| `created_at` | TIMESTAMP | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ |

### –ü–æ—Ä–æ–≥–∏ –æ—Ç—Å–µ—á–µ–Ω–∏—è

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –ü–æ—Ä–æ–≥ | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|-------|----------|
| **–ì–æ—Ä—è—á–∏–π –ª–∏–¥** | `HOT_TRIGGERS` –ò–õ–ò `pain_stage` –≤ (`ST-1`, `ST-2`, `ST-3`, `ST-4`) –ò–õ–ò `priority_score >= 3` –ò–õ–ò `hotness >= 4` | –ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Ç–æ–ø–∏–∫ "–ì–æ—Ä—è—á–∏–µ –ª–∏–¥—ã" (`THREAD_ID_HOT_LEADS = 811`) |
| **–û–±—ã—á–Ω—ã–π –ª–∏–¥** | `priority_score < 3` –ò –Ω–µ—Ç `HOT_TRIGGERS` –ò `pain_stage` –Ω–µ `ST-3`/`ST-4` | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–ª—è —Å–≤–æ–¥–∫–∏ (–æ—Ç–ø—Ä–∞–≤–∫–∞ 3 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å: 10:00, 14:00, 19:00 –ú–°–ö) |
| **ST-3/ST-4 –≤ –Ω–µ—Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è** | `pain_stage` –≤ (`ST-3`, `ST-4`) –ò –≤—Ä–µ–º—è –≤–Ω–µ 09:00-20:00 –ú–°–ö | –û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–æ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ |
| **–ì–µ–æ-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** | –ù–µ –ú–æ—Å–∫–≤–∞/–ú–û (–º–∞—Ä–∫–µ—Ä—ã –¥—Ä—É–≥–∏—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤) | –û—Ç—Å–µ–∏–≤–∞–Ω–∏–µ –Ω–∞ —ç—Ç–∞–ø–µ –∞–Ω–∞–ª–∏–∑–∞ |

### –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∏ —Ñ–∏–ª—å—Ç—Ä—ã

**–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤:**
1. **–ö–æ–¥:** `ScoutParser.KEYWORDS` (70+ —Å–ª–æ–≤)
2. **–ë–î:** –¢–∞–±–ª–∏—Ü–∞ `spy_keywords` (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å)
3. **.env:** `SCOUT_TG_KEYWORDS`, `SCOUT_VK_KEYWORDS` (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –ñ–ö (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞):**
- –ó–∏–ª–∞—Ä—Ç, –°–∏–º–≤–æ–ª, –°–µ—Ä–¥—Ü–µ –°—Ç–æ–ª–∏—Ü—ã, –î–∏–Ω–∞—Å—Ç–∏—è, –ü—Ä–µ—Å–Ω—è –°–∏—Ç–∏, –ù–µ–∫—Ä–∞—Å–æ–≤–∫–∞, –õ—é–±–ª–∏–Ω—Å–∫–∏–π –ø–∞—Ä–∫, –§–∏–ª–∏ –ì—Ä–∞–¥, –í–æ–ª–∂—Å–∫–∏–π –ø–∞—Ä–∫, –°–∞–ª–∞—Ä—å–µ–≤–æ, –ú–∏—Ç–∏–Ω–æ, –°–∫–æ–ª–∫–æ–≤–æ, –ë—Ä–∞—Ç–µ–µ–≤–æ

---

## üîÑ 3. –¶–ò–ö–õ –†–ê–ë–û–¢–´ –û–•–û–¢–ù–ò–ö–ê

### –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è: `LeadHunter.hunt()`

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `services/lead_hunter/hunter.py:609`

**–®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

1. **–û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ –ø–∞—Ä—Å–µ—Ä–∞** (—Å—Ç—Ä–æ–∫–∏ 615-621)
   - –°–±—Ä–æ—Å `last_scan_report`, `last_scan_chats_list`
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ `last_scan_at = datetime.now()`

2. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î** (—Å—Ç—Ä–æ–∫–∞ 624)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

3. **–ü–∞—Ä—Å–∏–Ω–≥ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤** (—Å—Ç—Ä–æ–∫–∏ 626-628)
   - `tg_posts = await self.parser.parse_telegram(db=main_db)` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ Telegram
   - `vk_posts = await self.parser.parse_vk()` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ VK
   - `all_posts = tg_posts + vk_posts`

4. **Discovery (–µ—Å–ª–∏ –ª–∏–¥–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ)** (—Å—Ç—Ä–æ–∫–∏ 631-698)
   - –ü–æ–∏—Å–∫ –Ω–æ–≤—ã—Ö Telegram –∫–∞–Ω–∞–ª–æ–≤ —á–µ—Ä–µ–∑ `discovery.find_new_sources()`
   - –ü–æ–∏—Å–∫ –Ω–æ–≤—ã—Ö VK –≥—Ä—É–ø–ø —á–µ—Ä–µ–∑ `discovery.scout_vk_resources()`
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –≤ `target_resources` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `active`

5. **–ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —á–∞—Ç–æ–≤** (—Å—Ç—Ä–æ–∫–∏ 704-711)
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —á–∞—Ç—ã (–ñ–ö –î–∏–Ω–∞—Å—Ç–∏—è, –ó–∏–ª–∞—Ä—Ç) –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –≤ –Ω–∞—á–∞–ª–æ —Å–ø–∏—Å–∫–∞
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ `.env`: `SPY_PREFERRED_CHATS="–î–∏–Ω–∞—Å—Ç–∏—è,–ó–∏–ª–∞—Ä—Ç"`

6. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–∂–¥–æ–≥–æ –ø–æ—Å—Ç–∞** (—Å—Ç—Ä–æ–∫–∏ 726-1069)
   - **–ê–Ω—Ç–∏-–¥—É–±–ª—å:** –ø—Ä–æ–≤–µ—Ä–∫–∞ `_seen_post_keys` (–æ–¥–∏–Ω –ø–æ—Å—Ç –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –¥–≤–∞–∂–¥—ã)
   - **–ë—ã—Å—Ç—Ä–∞—è –æ—Ü–µ–Ω–∫–∞:** `analyzer.analyze_post()` ‚Üí `priority_score`, `pain_stage`
   - **–ì–µ–æ-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –æ—Ç—Å–µ–∏–≤–∞–Ω–∏–µ –ª–∏–¥–æ–≤ –Ω–µ –∏–∑ –ú–æ—Å–∫–≤—ã/–ú–û
   - **–ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑:** `_analyze_intent()` —á–µ—Ä–µ–∑ Yandex GPT –∞–≥–µ–Ω—Ç
   - **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ HunterDatabase:** –µ—Å–ª–∏ `is_lead == True` ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `potential_leads.db`
   - **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Æ–ª–∏–∏:** –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ –ª–∏–¥–∞ –≤ –ª–∏—á–∫—É (`JULIA_USER_ID`)
   - **–û–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ AI –ñ—é–ª—è:** `hunter_standalone.hunt()` ‚Üí –∞–Ω–∞–ª–∏–∑ –≥–æ—Ä—è—á–µ—Å—Ç–∏
   - **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ª–∏–¥–æ–≤:**
     - **–ì–æ—Ä—è—á–∏–µ:** `HOT_TRIGGERS` –ò–õ–ò `ST-1`/`ST-2` ‚Üí –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Ç–æ–ø–∏–∫ "–ì–æ—Ä—è—á–∏–µ –ª–∏–¥—ã"
     - **ST-3/ST-4:** –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è (09:00-20:00 –ú–°–ö)
     - **–û–±—ã—á–Ω—ã–µ:** —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–ª—è —Å–≤–æ–¥–∫–∏

7. **–û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç—á—ë—Ç–∞** (—Å—Ç—Ä–æ–∫–∏ 1103-1124)
   - –û—Ç—á—ë—Ç –æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤ —Ç–æ–ø–∏–∫ "–õ–æ–≥–∏" (`THREAD_ID_LOGS = 88`)
   - –§–æ—Ä–º–∞—Ç: —Å–ø–∏—Å–æ–∫ –∫–∞–Ω–∞–ª–æ–≤/–≥—Ä—É–ø–ø, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ª–∏–¥–æ–≤

8. **–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –ª–∏–¥–æ–≤** (—Å—Ç—Ä–æ–∫–∏ 1126-1128)
   - –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å–æ –≤—Å–µ–º–∏ –ª–∏–¥–∞–º–∏ (–∏—Å—Ç–æ—á–Ω–∏–∫, –ø—Ä–µ–≤—å—é —Ç–µ–∫—Å—Ç–∞, —Å—Å—ã–ª–∫–∞) –≤ —Ç–æ–ø–∏–∫ "–õ–æ–≥–∏"

### –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

| –ó–∞–¥–∞—á–∞ | –ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å | –§—É–Ω–∫—Ü–∏—è | –§–∞–π–ª |
|--------|---------------|---------|------|
| **–û—Å–Ω–æ–≤–Ω–∞—è –æ—Ö–æ—Ç–∞** | –ö–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç | `hunter.hunt()` | `main.py:178` |
| **–°–≤–æ–¥–∫–∞ –æ–±—ã—á–Ω—ã—Ö –ª–∏–¥–æ–≤** | 3 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å: 10:00, 14:00, 19:00 –ú–°–ö | `hunter.send_regular_leads_summary()` | `main.py:201-221` |
| **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ä—è—á–∏—Ö –ª–∏–¥–æ–≤** | –ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç | `hunter.send_hot_leads_immediate()` | `main.py:224-231` |
| **–ì–µ–æ-—à–ø–∏–æ–Ω** | –ö–∞–∂–¥—ã–µ N —Å–µ–∫—É–Ω–¥ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è) | `competitor_spy.scan_geo_chats()` | `main.py:181-190` |

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–£—Ä–æ–≤–Ω–∏:**
- `logger.info()` ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (–Ω–∞—á–∞–ª–æ –æ—Ö–æ—Ç—ã, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ª–∏–¥–æ–≤, –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫)
- `logger.debug()` ‚Äî –¥–µ—Ç–∞–ª–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (–ø—Ä–æ–ø—É—Å–∫ –ø–æ –≥–µ–æ, –∞–Ω—Ç–∏-–¥—É–±–ª—å)
- `logger.warning()` ‚Äî –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–æ—à–∏–±–∫–∏ Discovery, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —á–∞—Ç—ã)
- `logger.error()` ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏

**–ú–µ—Å—Ç–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**
- `services/lead_hunter/hunter.py` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –æ—Ö–æ—Ç—ã
- `services/scout_parser.py` ‚Äî –ø–∞—Ä—Å–∏–Ω–≥ Telegram/VK
- `services/lead_hunter/analyzer.py` ‚Äî –∞–Ω–∞–ª–∏–∑ –ø–æ—Å—Ç–æ–≤

---

## üìç 4. –ú–ï–°–¢–ê, –ì–î–ï "–®–ü–ò–û–ù" –†–ê–ë–û–¢–ê–ï–¢

### –ß—Ç–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π/–ø–æ—Å—Ç–æ–≤

**Telegram (`scout_parser.py:498`):**
- **–ò—Å—Ç–æ—á–Ω–∏–∫–∏:** 
  - –ò–∑ –ë–î: `get_active_targets_for_scout()` (—Ç–∞–±–ª–∏—Ü–∞ `target_resources`, —Å—Ç–∞—Ç—É—Å `active`, –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ `telegram`)
  - –ò–∑ –∫–æ–Ω—Ñ–∏–≥–∞: `SCOUT_TG_CHANNELS` (—á–µ—Ä–µ–∑ `.env`)
- **–ú–µ—Ç–æ–¥:** `Telethon.iter_messages()` ‚Äî –∏—Ç–µ—Ä–∞—Ü–∏—è –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º –∫–∞–Ω–∞–ª–∞
- **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `last_post_id` –∏–∑ –ë–î –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞ (—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π)
- **–ü—Ä–æ–≥—Ä–µ–≤–æ—á–Ω—ã–π —Å–∫–∞–Ω:** –î–ª—è –Ω–æ–≤—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ (`last_post_id == 0`) ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å–æ–æ–±—â–µ–Ω–∏–π
- **Discussion Groups:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–≤—è–∑–∞–Ω–Ω–æ–º—É —á–∞—Ç—É –¥–ª—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** –¢–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç `User`, –Ω–µ –æ—Ç `Channel` (–∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è –ø–æ—Å—Ç—ã –æ—Ç —Å–∞–º–æ–≥–æ –∫–∞–Ω–∞–ª–∞)

**VK (`scout_parser.py:1075`):**
- **–ò—Å—Ç–æ—á–Ω–∏–∫–∏:**
  - –ò–∑ –ë–î: `get_active_targets_for_scout()` (—Å—Ç–∞—Ç—É—Å `active`, –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ `vk`)
  - –ò–∑ –∫–æ–Ω—Ñ–∏–≥–∞: `SCOUT_VK_GROUPS` (—á–µ—Ä–µ–∑ `.env`)
- **–ú–µ—Ç–æ–¥:** VK API `wall.get` (–ø–æ—Å—Ç—ã –Ω–∞ —Å—Ç–µ–Ω–µ) + `wall.getComments` (–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–æ—Å—Ç–∞–º)
- **–õ–∏–º–∏—Ç—ã:** 
  - –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: –ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 –ø–æ—Å—Ç–æ–≤ –Ω–∞ —Å—Ç–µ–Ω–µ
  - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏: –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –ø–æ—Å—Ç–æ–≤ √ó 30 –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `.env`)

### –ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏—è "–ª–∏–¥ / –Ω–µ –ª–∏–¥"

**–ú–µ—Ç–æ–¥:** `ScoutParser.detect_lead()` (—Å—Ç—Ä–æ–∫–∞ 363)

**–õ–æ–≥–∏–∫–∞:**
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ HOT_TRIGGERS** ‚Üí –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–æ ‚Üí **–ì–û–†–Ø–ß–ò–ô –õ–ò–î** (–≤–æ–∑–≤—Ä–∞—Ç `True`)
2. **–û—Ç—Å–µ—á–µ–Ω–∏–µ –º—É—Å–æ—Ä–∞** ‚Üí –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã `JUNK_PHRASES` ‚Üí –≤–æ–∑–≤—Ä–∞—Ç `False`
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤:**
   - –ï—Å—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω (`_has_technical_term()`)
   - –ò (–µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å (`_has_question()`) –ò–õ–ò –µ—Å—Ç—å –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –º–∞—Ä–∫–µ—Ä (`_has_commercial_marker()`))
4. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:** —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å `LEAD_TRIGGERS` –∏–ª–∏ –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏

**AI-–∞–Ω–∞–ª–∏–∑:** `LeadAnalyzer.analyze_post()` (—Å—Ç—Ä–æ–∫–∞ 160)
- –ì–µ–æ-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (–ú–æ—Å–∫–≤–∞/–ú–û)
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ `priority_score` (1-10) –∏ `pain_stage` (ST-1‚Ä¶ST-4)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö –ñ–ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Router AI / Yandex GPT –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

**–ì–æ—Ä—è—á–∏–µ –ª–∏–¥—ã** ‚Üí –¢–æ–ø–∏–∫ "–ì–æ—Ä—è—á–∏–µ –ª–∏–¥—ã" (`THREAD_ID_HOT_LEADS = 811`):
- –ú–µ—Ç–æ–¥: `_send_lead_card_to_group()` (—Å—Ç—Ä–æ–∫–∞ 425)
- –§–æ—Ä–º–∞—Ç: HTML-–∫–∞—Ä—Ç–æ—á–∫–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏:
  - `üë§ –ü—Ä–æ—Ñ–∏–ª—å` (–µ—Å–ª–∏ –µ—Å—Ç—å `profile_url`)
  - `üîó –ü–æ—Å—Ç` (—Å—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ—Å—Ç)
  - `‚úçÔ∏è –ù–∞ —ç—Ç—É —Ç–µ–º—É –ø–æ—Å—Ç` (—Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞)
  - `üõ† –û—Ç–≤–µ—Ç–∏—Ç—å —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ` (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç –ê–Ω—Ç–æ–Ω–∞)
  - `‚úÖ –í–∑—è—Ç—å –≤ —Ä–∞–±–æ—Ç—É` (–∫–æ–Ω—Ç–∞–∫—Ç –Æ–ª–∏–∏)

**–û–±—ã—á–Ω—ã–µ –ª–∏–¥—ã** ‚Üí –¢–æ–ø–∏–∫ "–õ–æ–≥–∏" (`THREAD_ID_LOGS = 88`):
- –ú–µ—Ç–æ–¥: `send_regular_leads_summary()` (—Å—Ç—Ä–æ–∫–∞ 1132)
- –§–æ—Ä–º–∞—Ç: –°–≤–æ–¥–∫–∞ –¥–æ 20 –ª–∏–¥–æ–≤ —Å –ø—Ä–µ–≤—å—é —Ç–µ–∫—Å—Ç–∞, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º, —Å—Ç–∞–¥–∏–µ–π –±–æ–ª–∏, —Å—Å—ã–ª–∫–æ–π –Ω–∞ –ø–æ—Å—Ç
- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ: 10:00, 14:00, 19:00 –ú–°–ö

**–û—Ç—á—ë—Ç –æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏** ‚Üí –¢–æ–ø–∏–∫ "–õ–æ–≥–∏":
- –ú–µ—Ç–æ–¥: `parser.get_last_scan_report()` (—Å—Ç—Ä–æ–∫–∞ 1106)
- –§–æ—Ä–º–∞—Ç: –°–ø–∏—Å–æ–∫ –∫–∞–Ω–∞–ª–æ–≤/–≥—Ä—É–ø–ø, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ª–∏–¥–æ–≤

**–§–∞–π–ª —Å–æ —Å–ø–∏—Å–∫–æ–º –ª–∏–¥–æ–≤** ‚Üí –¢–æ–ø–∏–∫ "–õ–æ–≥–∏":
- –ú–µ—Ç–æ–¥: `_send_raw_leads_file_to_group()` (—Å—Ç—Ä–æ–∫–∞ 508)
- –§–æ—Ä–º–∞—Ç: –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª `.txt` —Å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º, –ø—Ä–µ–≤—å—é —Ç–µ–∫—Å—Ç–∞, —Å—Å—ã–ª–∫–æ–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ª–∏–¥–∞

**–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Æ–ª–∏–∏** ‚Üí –õ–∏—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (`JULIA_USER_ID`):
- –ú–µ—Ç–æ–¥: `_send_lead_notify_to_admin()` (—Å—Ç—Ä–æ–∫–∞ 539) ‚Äî –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ª–∏–¥–∞ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö)
- –ú–µ—Ç–æ–¥: –ü—Ä—è–º–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ –ª–∏–¥–∞ (—Å—Ç—Ä–æ–∫–∏ 777-891) ‚Äî –¥–ª—è –Ω–æ–≤—ã—Ö –ª–∏–¥–æ–≤ —Å –ø—Ä–æ–µ–∫—Ç–æ–º –æ—Ç–≤–µ—Ç–∞

**–õ–∏—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é** ‚Üí Telegram DM:
- –ú–µ—Ç–æ–¥: `_send_dm_to_user()` (—Å—Ç—Ä–æ–∫–∞ 359)
- –£—Å–ª–æ–≤–∏–µ: –õ–∏–¥ –Ω–∞–π–¥–µ–Ω –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º —á–∞—Ç–µ –ò –µ—Å—Ç—å `author_id`
- –§–æ—Ä–º–∞—Ç: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –æ—Ç –ê–Ω—Ç–æ–Ω–∞ + —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–≤–∏–∑

---

## ‚öôÔ∏è 5. –ù–ê–°–¢–†–û–ô–ö–ò

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

#### Telegram (Telethon)
```env
API_ID=your_telegram_api_id
API_HASH=your_telegram_api_hash
TELEGRAM_PHONE=+79xxxxxxxxx
```

#### VK
```env
VK_TOKEN=your_vk_access_token
VK_USER_TOKEN=your_vk_user_token  # –î–ª—è groups.search (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
VK_GROUP_ID=235569022
```

#### Scout Parser
```env
SCOUT_ENABLED=true
SCOUT_PARSER_INTERVAL=1800  # –ò–Ω—Ç–µ—Ä–≤–∞–ª —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (30 –º–∏–Ω—É—Ç)
SCOUT_TG_MESSAGES_LIMIT=50  # –õ–∏–º–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –∫–∞–Ω–∞–ª–µ
SCOUT_VK_POSTS_FOR_COMMENTS=10  # –°–∫–æ–ª—å–∫–æ –ø–æ—Å—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
SCOUT_VK_COMMENTS_PER_POST=30  # –°–∫–æ–ª—å–∫–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –±—Ä–∞—Ç—å –∏–∑ –∫–∞–∂–¥–æ–≥–æ –ø–æ—Å—Ç–∞
SPY_SKIP_OLD_MESSAGES=0  # –ü—Ä–æ–ø—É—Å–∫–∞—Ç—å —Å—Ç–∞—Ä—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (0 = –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å last_post_id)
SPY_PREFERRED_CHATS=–î–∏–Ω–∞—Å—Ç–∏—è,–ó–∏–ª–∞—Ä—Ç  # –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —á–∞—Ç—ã (–ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –≤ –Ω–∞—á–∞–ª–æ)
```

#### –ö–∞–Ω–∞–ª—ã –∏ –≥—Ä—É–ø–ø—ã (–¥–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
```env
# Telegram –∫–∞–Ω–∞–ª—ã (–¥–æ 10 —à—Ç—É–∫)
SCOUT_TG_CHANNEL_1_ID=-1001234567890
SCOUT_TG_CHANNEL_1_NAME=–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞
SCOUT_TG_CHANNEL_1_GEO=–ú–æ—Å–∫–≤–∞/–ú–û

SCOUT_TG_CHANNEL_2_ID=...
SCOUT_TG_CHANNEL_2_NAME=...
# ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–æ SCOUT_TG_CHANNEL_10_*

# VK –≥—Ä—É–ø–ø—ã (–¥–æ 10 —à—Ç—É–∫)
SCOUT_VK_GROUP_1_ID=123456789
SCOUT_VK_GROUP_1_NAME=–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã
SCOUT_VK_GROUP_1_GEO=–ú–æ—Å–∫–≤–∞/–ú–û

# –ò–ª–∏ —Å–ø–∏—Å–∫–æ–º (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
SCOUT_TG_CHANNELS=-1001234567890,-1009876543210
SCOUT_VK_GROUPS=123456789,987654321
```

#### –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
```env
SCOUT_KEYWORDS=–ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞,—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ,—É–∑–∞–∫–æ–Ω–∏—Ç—å,–ú–ñ–ò,–ø—Ä–µ–¥–ø–∏—Å–∞–Ω–∏–µ
SCOUT_TG_KEYWORDS=–ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞,—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ,—É–∑–∞–∫–æ–Ω–∏—Ç—å
SCOUT_VK_KEYWORDS=–ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞,—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ,–ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã,—É–∑–∞–∫–æ–Ω–∏—Ç—å –ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫—É
```

#### –†–∞–±–æ—á–∞—è –≥—Ä—É–ø–ø–∞ –∏ —Ç–æ–ø–∏–∫–∏
```env
LEADS_GROUP_CHAT_ID=-1003370698977
THREAD_ID_HOT_LEADS=811  # –¢–æ–ø–∏–∫ "–ì–æ—Ä—è—á–∏–µ –ª–∏–¥—ã"
THREAD_ID_LOGS=88  # –¢–æ–ø–∏–∫ "–õ–æ–≥–∏"
```

#### AI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
```env
YANDEX_API_KEY=your_yandex_api_key
FOLDER_ID=your_yandex_folder_id
ROUTER_AI_KEY=your_router_ai_key
USE_YANDEX_AGENT=true  # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Yandex AI Agent –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
```

#### –§–∏–ª—å—Ç—Ä—ã "–°–≤–æ–π-–ß—É–∂–æ–π"
```env
OWN_CHANNEL_IDS=-1003612599428,-1002628548032  # ID —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ TERION (–∏—Å–∫–ª—é—á–∞—é—Ç—Å—è –∏–∑ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è)
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ –∫–æ–¥–µ (`config.py`)

```python
# –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ —à–ø–∏–æ–Ω–∞
SCOUT_ENABLED = os.getenv("SCOUT_ENABLED", "true") == "true"

# –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ (–µ—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω—ã –≤ .env)
SCOUT_TG_KEYWORDS = ["–ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞", "—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ", "—É–∑–∞–∫–æ–Ω–∏—Ç—å"]
SCOUT_VK_KEYWORDS = ["–ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞", "—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ", "–ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã", "—É–∑–∞–∫–æ–Ω–∏—Ç—å –ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∫—É"]

# –õ–∏–º–∏—Ç—ã –∞–Ω—Ç–∏—Ñ–ª—É–¥–∞
SCOUT_VK_COMMENTS_PER_HOUR = 5
SCOUT_VK_MESSAGES_PER_HOUR = 3
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (`target_resources`)

**–¢–∞–±–ª–∏—Ü–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | INTEGER PRIMARY KEY | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —Ä–µ—Å—É—Ä—Å–∞ |
| `type` | TEXT | `"telegram"` –∏–ª–∏ `"vk"` |
| `link` | TEXT UNIQUE | –°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª/–≥—Ä—É–ø–ø—É (`https://t.me/...` –∏–ª–∏ `https://vk.com/...`) |
| `title` | TEXT | –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞ |
| `is_active` | BOOLEAN | –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ —Ä–µ—Å—É—Ä—Å –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è |
| `status` | TEXT | `"pending"` (–Ω–æ–≤—ã–π), `"active"` (–∞–∫—Ç–∏–≤–µ–Ω), `"archived"` (–∞—Ä—Ö–∏–≤) |
| `platform` | TEXT | –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ (`"telegram"` –∏–ª–∏ `"vk"`) |
| `geo_tag` | TEXT | –ì–µ–æ-—Ç–µ–≥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ú–æ—Å–∫–≤–∞/–ú–û", "–ñ–ö –ó–∏–ª–∞—Ä—Ç") |
| `participants_count` | INTEGER | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ |
| `is_high_priority` | INTEGER | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –ñ–ö (0/1) |
| `priority` | INTEGER | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–µ—Å—É—Ä—Å–∞ (1-10) |
| `last_post_id` | INTEGER | ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ –ø–æ—Å—Ç–∞ (–¥–ª—è –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞) |
| `last_scanned_at` | TIMESTAMP | –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è |
| `notes` | TEXT | –ó–∞–º–µ—Ç–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–û–±–Ω–∞—Ä—É–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏") |
| `created_at` | TIMESTAMP | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è |
| `updated_at` | TIMESTAMP | –í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

**–ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏:**
- `get_active_targets_for_scout()` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- `add_target_resource()` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ä–µ—Å—É—Ä—Å
- `set_target_status()` ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Ä–µ—Å—É—Ä—Å–∞
- `update_last_post_id()` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ—Å—Ç–∞

---

## üìä 6. –°–¢–†–£–ö–¢–£–†–ê –¢–ê–ë–õ–ò–¶ –ë–î

### –¢–∞–±–ª–∏—Ü–∞ `spy_leads`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ª–∏–¥–æ–≤ –æ—Ç —à–ø–∏–æ–Ω–∞

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|------|-----|----------|--------|
| `id` | INTEGER PRIMARY KEY | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –ª–∏–¥–∞ | `123` |
| `source_type` | TEXT NOT NULL | –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ | `"telegram"` –∏–ª–∏ `"vk"` |
| `source_name` | TEXT NOT NULL | –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞/–≥—Ä—É–ø–ø—ã | `"–ñ–ö –ó–∏–ª–∞—Ä—Ç"` |
| `author_id` | TEXT | ID –∞–≤—Ç–æ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è | `"123456789"` (Telegram) –∏–ª–∏ `"-123456789"` (VK) |
| `username` | TEXT | Username –∞–≤—Ç–æ—Ä–∞ | `"username"` |
| `profile_url` | TEXT | –°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ—Ñ–∏–ª—å | `"tg://user?id=123456789"` –∏–ª–∏ `"https://vk.com/id123456789"` |
| `text` | TEXT | –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è/–ø–æ—Å—Ç–∞ | `"–•–æ—á—É –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –∫—É—Ö–Ω—é —Å –≥–æ—Å—Ç–∏–Ω–æ–π..."` |
| `url` | TEXT NOT NULL | –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ—Å—Ç/–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π | `"https://t.me/c/1234567890/123"` |
| `pain_stage` | TEXT | –°—Ç–∞–¥–∏—è –±–æ–ª–∏ –∫–ª–∏–µ–Ω—Ç–∞ | `"ST-1"`, `"ST-2"`, `"ST-3"`, `"ST-4"` |
| `priority_score` | INTEGER | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ª–∏–¥–∞ (1-10) | `7` |
| `sent_to_hot_leads` | INTEGER | –û—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ —Ç–æ–ø–∏–∫ "–ì–æ—Ä—è—á–∏–µ –ª–∏–¥—ã" (0/1) | `1` |
| `contacted_at` | TIMESTAMP | –í—Ä–µ–º—è –ø–µ—Ä–≤–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞ | `"2026-02-17 10:30:00"` |
| `created_at` | TIMESTAMP | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ | `"2026-02-17 10:00:00"` |

**–ò–Ω–¥–µ–∫—Å—ã:** –ù–µ—Ç —è–≤–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–∞ `author_id`, `created_at`, `priority_score`)

### –¢–∞–±–ª–∏—Ü–∞ `target_resources`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–∫–∞–Ω–∞–ª—ã Telegram –∏ –≥—Ä—É–ø–ø—ã VK)

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|------|-----|----------|--------|
| `id` | INTEGER PRIMARY KEY | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —Ä–µ—Å—É—Ä—Å–∞ | `1` |
| `type` | TEXT NOT NULL | –¢–∏–ø —Ä–µ—Å—É—Ä—Å–∞ | `"telegram"` –∏–ª–∏ `"vk"` |
| `link` | TEXT NOT NULL UNIQUE | –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ—Å—É—Ä—Å | `"https://t.me/zhk_zilart"` |
| `title` | TEXT | –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞ | `"–ñ–ö –ó–∏–ª–∞—Ä—Ç"` |
| `is_active` | BOOLEAN | –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è | `1` (true) |
| `status` | TEXT | –°—Ç–∞—Ç—É—Å —Ä–µ—Å—É—Ä—Å–∞ | `"pending"`, `"active"`, `"archived"` |
| `platform` | TEXT | –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ (–¥—É–±–ª–∏—Ä—É–µ—Ç `type`) | `"telegram"` |
| `geo_tag` | TEXT | –ì–µ–æ-—Ç–µ–≥ | `"–ú–æ—Å–∫–≤–∞/–ú–û"`, `"–ñ–ö –ó–∏–ª–∞—Ä—Ç"` |
| `participants_count` | INTEGER | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ | `5000` |
| `is_high_priority` | INTEGER | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π –ñ–ö (0/1) | `1` |
| `priority` | INTEGER | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–µ—Å—É—Ä—Å–∞ (1-10) | `8` |
| `last_post_id` | INTEGER | ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ –ø–æ—Å—Ç–∞ | `12345` |
| `last_scanned_at` | TIMESTAMP | –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è | `"2026-02-17 10:00:00"` |
| `notes` | TEXT | –ó–∞–º–µ—Ç–∫–∏ | `"–û–±–Ω–∞—Ä—É–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏"` |
| `created_at` | TIMESTAMP | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è | `"2026-02-17 09:00:00"` |
| `updated_at` | TIMESTAMP | –í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è | `"2026-02-17 10:00:00"` |

**–ò–Ω–¥–µ–∫—Å—ã:** `UNIQUE` –Ω–∞ `link`

### –¢–∞–±–ª–∏—Ü–∞ `potential_leads` (HunterDatabase)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –õ–æ–∫–∞–ª—å–Ω–∞—è –ë–î –¥–ª—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ª–∏–¥–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `hunter_standalone`)

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | INTEGER PRIMARY KEY | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID |
| `message_url` | TEXT UNIQUE | URL —Å–æ–æ–±—â–µ–Ω–∏—è (–∫–ª—é—á –¥–ª—è –∞–Ω—Ç–∏-–¥—É–±–ª—è) |
| `content` | TEXT | –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è |
| `intent` | TEXT | –ò–Ω—Ç–µ–Ω—Ç (–Ω–∞–º–µ—Ä–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞) |
| `hotness` | INTEGER | –ì–æ—Ä—è—á–µ—Å—Ç—å –ª–∏–¥–∞ (1-5) |
| `geo` | TEXT | –ì–µ–æ–≥—Ä–∞—Ñ–∏—è |
| `context_summary` | TEXT | –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ |
| `pain_stage` | TEXT | –°—Ç–∞–¥–∏—è –±–æ–ª–∏ (ST-1‚Ä¶ST-4) |
| `priority_score` | INTEGER | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (1-10) |
| `created_at` | TIMESTAMP | –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è |

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `database/potential_leads.db` (–æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª SQLite)

### –¢–∞–±–ª–∏—Ü–∞ `spy_keywords`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | INTEGER PRIMARY KEY | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID |
| `keyword` | TEXT NOT NULL UNIQUE | –ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ |
| `is_active` | BOOLEAN | –ê–∫—Ç–∏–≤–Ω–æ –ª–∏ —Å–ª–æ–≤–æ |
| `created_at` | TIMESTAMP | –í—Ä–µ–º—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è |

---

## üîç 7. –ö–ê–ö –°–ï–ô–ß–ê–° –†–ê–ë–û–¢–ê–ï–¢ –®–ü–ò–û–ù

**–®–ø–∏–æ–Ω** ‚Äî —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∏—Å–∫–∞ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ Telegram –∫–∞–Ω–∞–ª–∞—Ö –∏ VK –≥—Ä—É–ø–ø–∞—Ö, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

1. **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á** (`main.py`) –∑–∞–ø—É—Å–∫–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `hunter.hunt()` –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç —á–µ—Ä–µ–∑ APScheduler.

2. **–ü–∞—Ä—Å–∏–Ω–≥ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:** `ScoutParser` –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤/–≥—Ä—É–ø–ø –∏–∑ –ë–î (`target_resources`, —Å—Ç–∞—Ç—É—Å `active`) –∏ —Å–∫–∞–Ω–∏—Ä—É–µ—Ç –∏—Ö —á–µ—Ä–µ–∑ Telethon (Telegram) –∏ VK API. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ `last_post_id` ‚Äî —Å–∫–∞–Ω–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ –ø–æ—Å—Ç–∞.

3. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π:** –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ–Ω–æ –ª–∏–¥–æ–º —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `detect_lead()`. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—Ä–∞–∑ (`HOT_TRIGGERS`), —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤, –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –º–∞—Ä–∫–µ—Ä–æ–≤, –æ—Ç—Å–µ–∏–≤–∞—è –º—É—Å–æ—Ä (—Ä–µ–∫–ª–∞–º—É, –æ–±—ä—è–≤–ª–µ–Ω–∏—è –±–µ–∑ –∑–∞–ø—Ä–æ—Å–æ–≤).

4. **AI-–∞–Ω–∞–ª–∏–∑:** –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `LeadAnalyzer`, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç `priority_score` (1-10) –∏ `pain_stage` (ST-1‚Ä¶ST-4), –ø—Ä–∏–º–µ–Ω—è–µ—Ç –≥–µ–æ-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é (—Ç–æ–ª—å–∫–æ –ú–æ—Å–∫–≤–∞/–ú–û) –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –ñ–ö –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞.

5. **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞:** –õ–∏–¥—ã –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç—Å—è –Ω–∞ –≥–æ—Ä—è—á–∏–µ (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Ç–æ–ø–∏–∫ "–ì–æ—Ä—è—á–∏–µ –ª–∏–¥—ã") –∏ –æ–±—ã—á–Ω—ã–µ (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–ª—è —Å–≤–æ–¥–∫–∏). –ì–æ—Ä—è—á–∏–µ –ª–∏–¥—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É, ST-3/ST-4 ‚Äî —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è (09:00-20:00 –ú–°–ö), –æ–±—ã—á–Ω—ã–µ –ª–∏–¥—ã —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ —Å–≤–æ–¥–∫—É, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è 3 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å (10:00, 14:00, 19:00 –ú–°–ö).

6. **Discovery:** –ï—Å–ª–∏ –ª–∏–¥–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—â–µ—Ç –Ω–æ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —á–µ—Ä–µ–∑ `Discovery`, –∏—Å–ø–æ–ª—å–∑—É—è –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ Telegram –∏ VK API –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º, –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã/–≥—Ä—É–ø–ø—ã –≤ –ë–î —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `active`.

7. **–û—Ç—á—ë—Ç—ã:** –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–∫–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç—á—ë—Ç –≤ —Ç–æ–ø–∏–∫ "–õ–æ–≥–∏" —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ç–æ–º, –≥–¥–µ –±—ã–ª —à–ø–∏–æ–Ω, —Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ –∏ —Å–∫–æ–ª—å–∫–æ –ª–∏–¥–æ–≤ –Ω–∞–π–¥–µ–Ω–æ, –∞ —Ç–∞–∫–∂–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö –ª–∏–¥–æ–≤.

---

## üìö 8. –ö–õ–Æ–ß–ï–í–´–ï –ö–õ–ê–°–°–´ –ò –§–£–ù–ö–¶–ò–ò

### `LeadHunter` (`services/lead_hunter/hunter.py`)

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç |
|-------|----------|-----------|------------|
| `hunt()` | –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª –æ—Ö–æ—Ç—ã –∑–∞ –ª–∏–¥–∞–º–∏ | ‚Äî | ‚Äî |
| `_analyze_intent()` | –ê–Ω–∞–ª–∏–∑ –Ω–∞–º–µ—Ä–µ–Ω–∏—è —á–µ—Ä–µ–∑ Yandex GPT | `text: str` | `dict` —Å `is_lead`, `intent`, `hotness`, `context_summary`, `recommendation`, `pain_level` |
| `_send_lead_card_to_group()` | –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ –ª–∏–¥–∞ –≤ —Ä–∞–±–æ—á—É—é –≥—Ä—É–ø–ø—É | `lead: dict`, `lead_id: int`, `profile_url: str`, `post_url: str`, `card_header: str`, `anton_recommendation: str` | `bool` |
| `_send_dm_to_user()` | –û—Ç–ø—Ä–∞–≤–∫–∞ –ª–∏—á–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é | `user_id: int`, `post_url: str`, `lead_text: str` | `bool` |
| `_generate_sales_reply()` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –æ—Ç–≤–µ—Ç–∞ –ø—Ä–æ–¥–∞–≤—Ü–∞ —á–µ—Ä–µ–∑ Yandex GPT | `post_text: str`, `pain_stage: str`, `zhk_name: str`, `intent: str`, `context_summary: str` | `str` |
| `send_regular_leads_summary()` | –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–≤–æ–¥–∫–∏ –æ–±—ã—á–Ω—ã—Ö –ª–∏–¥–æ–≤ | ‚Äî | `bool` |
| `send_hot_leads_immediate()` | –ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≥–æ—Ä—è—á–∏—Ö –ª–∏–¥–æ–≤ | ‚Äî | `bool` |
| `_format_lead_card()` | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –ª–∏–¥–∞ | `lead: dict`, `profile_url: str`, `card_header: str`, `anton_recommendation: str` | `str` |
| `_is_business_hours_msk()` | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –ú–°–ö (09:00-20:00) | ‚Äî | `bool` |

### `ScoutParser` (`services/scout_parser.py`)

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç |
|-------|----------|-----------|------------|
| `parse_telegram()` | –ü–∞—Ä—Å–∏–Ω–≥ Telegram –∫–∞–Ω–∞–ª–æ–≤ | `db=None` | `List[ScoutPost]` |
| `parse_vk()` | –ü–∞—Ä—Å–∏–Ω–≥ VK –≥—Ä—É–ø–ø | ‚Äî | `List[ScoutPost]` |
| `detect_lead()` | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –ª–∏–¥–æ–º | `text: str` | `bool` |
| `scan_all()` | –ü–æ–ª–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ | ‚Äî | `List[ScoutPost]` |
| `get_last_scan_report()` | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á—ë—Ç –æ –ø–æ—Å–ª–µ–¥–Ω–µ–º —Å–∫–∞–Ω–µ | ‚Äî | `str` |
| `_has_technical_term()` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞ | `text: str` | `bool` |
| `_has_question()` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –≤–æ–ø—Ä–æ—Å–∞ | `text: str` | `bool` |
| `_has_commercial_marker()` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –º–∞—Ä–∫–µ—Ä–∞ | `text: str` | `bool` |
| `_has_junk_phrase()` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –º—É—Å–æ—Ä–Ω–æ–π —Ñ—Ä–∞–∑—ã | `text: str` | `bool` |
| `extract_geo_header()` | –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≥–µ–æ-–∑–∞–≥–æ–ª–æ–≤–∫–∞ (–ñ–ö, –∫–æ—Ä–ø—É—Å) | `text: str`, `source_name: str` | `str` |
| `scan_all_chats()` | –°–∫–∞–Ω–µ—Ä –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤ Telethon | ‚Äî | `List[Dict]` |

### `LeadAnalyzer` (`services/lead_hunter/analyzer.py`)

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç |
|-------|----------|-----------|------------|
| `analyze_post()` | AI-–∞–Ω–∞–ª–∏–∑ –ø–æ—Å—Ç–∞ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –∏ —Å—Ç–∞–¥–∏–∏ –±–æ–ª–∏ | `text: str`, `source_name: str` | `dict` —Å `priority_score`, `pain_stage`, `is_lead`, `geo_filtered`, `zhk_name` |

### `Discovery` (`services/lead_hunter/discovery.py`)

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç |
|-------|----------|-----------|------------|
| `find_new_sources()` | –ü–æ–∏—Å–∫ –Ω–æ–≤—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —á–µ—Ä–µ–∑ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ | `keywords: List[str] = None` | `List[Dict]` |
| `global_telegram_search()` | –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ Telegram –∫–∞–Ω–∞–ª–æ–≤ —á–µ—Ä–µ–∑ Telethon API | `keywords: List[str] = None` | `List[Dict]` |
| `scout_vk_resources()` | –ü–æ–∏—Å–∫ –Ω–æ–≤—ã—Ö VK –≥—Ä—É–ø–ø —á–µ—Ä–µ–∑ VK API | `keywords: List[str] = None` | `List[Dict]` |

### `Database` (`database/db.py`)

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç |
|-------|----------|-----------|------------|
| `add_spy_lead()` | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–∏–¥–∞ –≤ –ë–î | `source_type`, `source_name`, `url`, `text`, `author_id`, `username`, `profile_url`, `pain_stage`, `priority_score` | `int` (ID –ª–∏–¥–∞) |
| `get_regular_leads_for_summary()` | –ü–æ–ª—É—á–∏—Ç—å –æ–±—ã—á–Ω—ã–µ –ª–∏–¥—ã –¥–ª—è —Å–≤–æ–¥–∫–∏ | `since_hours: int = 24` | `List[Dict]` |
| `get_hot_leads_for_immediate_send()` | –ü–æ–ª—É—á–∏—Ç—å –≥–æ—Ä—è—á–∏–µ –ª–∏–¥—ã –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ | ‚Äî | `List[Dict]` |
| `mark_lead_sent_to_hot_leads()` | –û—Ç–º–µ—Ç–∏—Ç—å –ª–∏–¥ –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π | `lead_id: int` | ‚Äî |
| `get_active_targets_for_scout()` | –ü–æ–ª—É—á–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è | ‚Äî | `List[Dict]` |
| `add_target_resource()` | –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ä–µ—Å—É—Ä—Å –≤ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ | `resource_type`, `link`, `title`, `notes`, `status`, `participants_count`, `geo_tag` | `int` (ID —Ä–µ—Å—É—Ä—Å–∞) |
| `update_last_post_id()` | –û–±–Ω–æ–≤–∏—Ç—å ID –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ—Å—Ç–∞ —Ä–µ—Å—É—Ä—Å–∞ | `resource_id: int`, `last_post_id: int` | ‚Äî |

---

## üìã 9. –ë–ò–ë–õ–ò–û–¢–ï–ö–ò

| –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|------------|---------------|
| **Telethon** | –ü–∞—Ä—Å–∏–Ω–≥ Telegram –∫–∞–Ω–∞–ª–æ–≤, —á—Ç–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π, –ø–æ–∏—Å–∫ –∫–∞–Ω–∞–ª–æ–≤ —á–µ—Ä–µ–∑ `SearchGlobalRequest` |
| **aiogram** | –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ä–∞–±–æ—á—É—é –≥—Ä—É–ø–ø—É, –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º |
| **aiosqlite** | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å SQLite –ë–î |
| **aiohttp** | HTTP-–∑–∞–ø—Ä–æ—Å—ã –∫ VK API, Router AI API |
| **APScheduler** | –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á (–∫–∞–∂–¥—ã–µ 30 –º–∏–Ω –æ—Ö–æ—Ç–∞, –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ä—è—á–∏—Ö –ª–∏–¥–æ–≤, —Å–≤–æ–¥–∫–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é) |
| **Yandex GPT** | AI-–∞–Ω–∞–ª–∏–∑ –ø–æ—Å—Ç–æ–≤, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –ø—Ä–æ–¥–∞–≤—Ü–∞ |
| **Router AI** | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π AI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (fallback) |

---

## üéØ 10. –ö–†–ê–¢–ö–û–ï –û–ü–ò–°–ê–ù–ò–ï –†–ê–ë–û–¢–´ –®–ü–ò–û–ù–ê

**–®–ø–∏–æ–Ω** —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ, —Å–∫–∞–Ω–∏—Ä—É—è Telegram –∫–∞–Ω–∞–ª—ã –∏ VK –≥—Ä—É–ø–ø—ã –∫–∞–∂–¥—ã–µ 30 –º–∏–Ω—É—Ç. –û–Ω –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (`target_resources`), –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ `last_post_id` –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `detect_lead()`. –ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ AI (`LeadAnalyzer`), –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (1-10) –∏ —Å—Ç–∞–¥–∏—é –±–æ–ª–∏ –∫–ª–∏–µ–Ω—Ç–∞ (ST-1‚Ä¶ST-4), –ø—Ä–∏–º–µ–Ω—è–µ—Ç –≥–µ–æ-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é (—Ç–æ–ª—å–∫–æ –ú–æ—Å–∫–≤–∞/–ú–û) –∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –ñ–ö. –ì–æ—Ä—è—á–∏–µ –ª–∏–¥—ã (HOT_TRIGGERS, ST-1/ST-2, priority_score >= 3) –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤ —Ç–æ–ø–∏–∫ "–ì–æ—Ä—è—á–∏–µ –ª–∏–¥—ã" —Å –∫–∞—Ä—Ç–æ—á–∫–æ–π –∏ –∫–Ω–æ–ø–∫–∞–º–∏ –¥–µ–π—Å—Ç–≤–∏–π, –æ–±—ã—á–Ω—ã–µ –ª–∏–¥—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è —Å–≤–æ–¥–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è 3 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å (10:00, 14:00, 19:00 –ú–°–ö) –≤ —Ç–æ–ø–∏–∫ "–õ–æ–≥–∏". –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–∫–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç—á—ë—Ç –æ —Ç–æ–º, –≥–¥–µ –±—ã–ª —à–ø–∏–æ–Ω –∏ —Å–∫–æ–ª—å–∫–æ –ª–∏–¥–æ–≤ –Ω–∞–π–¥–µ–Ω–æ, –∞ —Ç–∞–∫–∂–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª —Å–æ —Å–ø–∏—Å–∫–æ–º –≤—Å–µ—Ö –ª–∏–¥–æ–≤. –ï—Å–ª–∏ –ª–∏–¥–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—â–µ—Ç –Ω–æ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —á–µ—Ä–µ–∑ Discovery –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∏—Ö –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 17.02.2026
